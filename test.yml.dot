digraph "template" {
VPC [label="VPC\n<AWS::EC2::VPC>"];
Subnet1 [label="Subnet1\n<AWS::EC2::Subnet>"];
InternetGateway [label="InternetGateway\n<AWS::EC2::InternetGateway>"];
GatewayToInternet [label="GatewayToInternet\n<AWS::EC2::VPCGatewayAttachment>"];
PublicRouteTable [label="PublicRouteTable\n<AWS::EC2::RouteTable>"];
PublicRoute [label="PublicRoute\n<AWS::EC2::Route>"];
PublicSubnetRouteTableAssociation [label="PublicSubnetRouteTableAssociation\n<AWS::EC2::SubnetRouteTableAssociation>"];
InstanceSecurityGroup [label="InstanceSecurityGroup\n<AWS::EC2::SecurityGroup>"];
NetworkLoadBalancer [label="NetworkLoadBalancer\n<AWS::ElasticLoadBalancingV2::LoadBalancer>"];
NLBListener [label="NLBListener\n<AWS::ElasticLoadBalancingV2::Listener>"];
MySQLTargetGroup [label="MySQLTargetGroup\n<AWS::ElasticLoadBalancingV2::TargetGroup>"];
ECSCluster [label="ECSCluster\n<AWS::ECS::Cluster>"];
ECSAutoScalingGroup [label="ECSAutoScalingGroup\n<AWS::AutoScaling::AutoScalingGroup>"];
ContainerInstances [label="ContainerInstances\n<AWS::AutoScaling::LaunchConfiguration>"];
EC2Role [label="EC2Role\n<AWS::IAM::Role>"];
ECSServiceAutoScalingRole [label="ECSServiceAutoScalingRole\n<AWS::IAM::Role>"];
EC2InstanceProfile [label="EC2InstanceProfile\n<AWS::IAM::InstanceProfile>"];
CWLogsGroup [label="CWLogsGroup\n<AWS::Logs::LogGroup>"];
Subnet1 -> VPC  [key=0, label=Ref];
GatewayToInternet -> VPC  [key=0, label=Ref];
GatewayToInternet -> InternetGateway  [key=0, label=Ref];
PublicRouteTable -> VPC  [key=0, label=DependsOn];
PublicRouteTable -> VPC  [key=1, label=Ref];
PublicRoute -> PublicRouteTable  [key=0, label=DependsOn];
PublicRoute -> PublicRouteTable  [key=1, label=Ref];
PublicRoute -> InternetGateway  [key=0, label=DependsOn];
PublicRoute -> InternetGateway  [key=1, label=Ref];
PublicSubnetRouteTableAssociation -> Subnet1  [key=0, label=DependsOn];
PublicSubnetRouteTableAssociation -> Subnet1  [key=1, label=Ref];
PublicSubnetRouteTableAssociation -> PublicRouteTable  [key=0, label=DependsOn];
PublicSubnetRouteTableAssociation -> PublicRouteTable  [key=1, label=Ref];
InstanceSecurityGroup -> VPC  [key=0, label=Ref];
NetworkLoadBalancer -> Subnet1  [key=0, label=Ref];
NLBListener -> MySQLTargetGroup  [key=0, label=Ref];
NLBListener -> NetworkLoadBalancer  [key=0, label=Ref];
MySQLTargetGroup -> VPC  [key=0, label=Ref];
ECSAutoScalingGroup -> Subnet1  [key=0, label=Ref];
ECSAutoScalingGroup -> ContainerInstances  [key=0, label=Ref];
ContainerInstances -> EC2InstanceProfile  [key=0, label=Ref];
ContainerInstances -> InstanceSecurityGroup  [key=0, label=Ref];
ContainerInstances -> ECSCluster  [key=0, label=Sub];
EC2InstanceProfile -> EC2Role  [key=0, label=Ref];
}
